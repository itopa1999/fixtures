# Generated by Django 5.0.2 on 2026-02-18 11:57

import django.core.validators
import django.db.models.deletion
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Group',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=50)),
                ('group_number', models.PositiveIntegerField()),
            ],
            options={
                'db_table': 'groups',
            },
        ),
        migrations.CreateModel(
            name='Tournament',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('game_title', models.CharField(max_length=255)),
                ('format_type', models.CharField(choices=[('single_elimination', 'single_elimination'), ('double_elimination', 'double_elimination'), ('group_knockout', 'group_knockout')], default='single_elimination', max_length=50)),
                ('max_players', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(2)])),
                ('current_player_count', models.PositiveIntegerField(default=0)),
                ('status', models.CharField(choices=[('registration', 'registration'), ('active', 'active'), ('completed', 'completed'), ('cancelled', 'cancelled')], default='registration', max_length=50)),
                ('registration_deadline', models.DateTimeField()),
                ('start_date', models.DateTimeField()),
            ],
            options={
                'db_table': 'tournaments',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SingleEliminationSettings',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('allow_byes', models.BooleanField(default=True)),
                ('auto_balance_bracket', models.BooleanField(default=True)),
                ('tournament', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='single_elim_settings', to='tour.tournament')),
            ],
            options={
                'db_table': 'single_elimination_settings',
            },
        ),
        migrations.CreateModel(
            name='Player',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=255)),
                ('gamer_tag', models.CharField(max_length=255)),
                ('phone', models.CharField(blank=True, max_length=20, null=True)),
                ('seed_number', models.PositiveIntegerField(blank=True, null=True)),
                ('status', models.CharField(choices=[('registered', 'registered'), ('eliminated', 'eliminated'), ('qualified', 'qualified'), ('winner', 'winner')], default='registered', max_length=50)),
                ('tournament', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='players', to='tour.tournament')),
            ],
            options={
                'db_table': 'players',
                'ordering': ['seed_number', 'created_at'],
                'unique_together': {('tournament', 'gamer_tag')},
            },
        ),
        migrations.CreateModel(
            name='Match',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('round_number', models.PositiveIntegerField()),
                ('bracket_type', models.CharField(choices=[('group', 'group'), ('winners', 'winners'), ('losers', 'losers'), ('final', 'final')], default='group', max_length=50)),
                ('player1_score', models.PositiveIntegerField(blank=True, null=True)),
                ('player2_score', models.PositiveIntegerField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pending', 'pending'), ('playing', 'playing'), ('completed', 'completed'), ('cancelled', 'cancelled')], default='pending', max_length=50)),
                ('console_assigned', models.PositiveIntegerField(blank=True, null=True)),
                ('scheduled_time', models.DateTimeField(blank=True, null=True)),
                ('group', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='matches', to='tour.group')),
                ('player1', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matches_as_player1', to='tour.player')),
                ('player2', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matches_as_player2', to='tour.player')),
                ('winner', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='matches_won', to='tour.player')),
                ('tournament', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matches', to='tour.tournament')),
            ],
            options={
                'db_table': 'matches',
                'ordering': ['round_number', 'bracket_type', 'created_at'],
            },
        ),
        migrations.CreateModel(
            name='GroupKnockoutSettings',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('group_size', models.PositiveIntegerField(default=4, validators=[django.core.validators.MinValueValidator(2)])),
                ('qualifiers_per_group', models.PositiveIntegerField(default=2)),
                ('points_per_win', models.PositiveIntegerField(default=3)),
                ('points_per_draw', models.PositiveIntegerField(default=1)),
                ('points_per_loss', models.PositiveIntegerField(default=0)),
                ('tiebreaker_rule', models.CharField(choices=[('goal_diff', 'goal_diff'), ('head_to_head', 'head_to_head'), ('random', 'random')], default='goal_diff', max_length=50)),
                ('auto_generate_knockout', models.BooleanField(default=True)),
                ('tournament', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='group_knockout_settings', to='tour.tournament')),
            ],
            options={
                'db_table': 'group_knockout_settings',
            },
        ),
        migrations.AddField(
            model_name='group',
            name='tournament',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='groups', to='tour.tournament'),
        ),
        migrations.CreateModel(
            name='DoubleEliminationSettings',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('grand_final_reset_enabled', models.BooleanField(default=True)),
                ('third_place_match', models.BooleanField(default=True)),
                ('tournament', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='double_elim_settings', to='tour.tournament')),
            ],
            options={
                'db_table': 'double_elimination_settings',
            },
        ),
        migrations.CreateModel(
            name='TournamentSettings',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('seeding_enabled', models.BooleanField(default=True)),
                ('shuffle_players', models.BooleanField(default=False)),
                ('number_of_consoles', models.PositiveIntegerField(default=1)),
                ('match_duration_minutes', models.PositiveIntegerField(default=15)),
                ('third_place_match', models.BooleanField(default=False)),
                ('auto_generate_fixtures', models.BooleanField(default=True)),
                ('lock_settings', models.BooleanField(default=False)),
                ('tournament', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='settings', to='tour.tournament')),
            ],
            options={
                'db_table': 'tournament_settings',
            },
        ),
        migrations.CreateModel(
            name='GroupStandings',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('matches_played', models.PositiveIntegerField(default=0)),
                ('wins', models.PositiveIntegerField(default=0)),
                ('draws', models.PositiveIntegerField(default=0)),
                ('losses', models.PositiveIntegerField(default=0)),
                ('points', models.PositiveIntegerField(default=0)),
                ('score_for', models.PositiveIntegerField(default=0)),
                ('score_against', models.PositiveIntegerField(default=0)),
                ('score_difference', models.IntegerField(default=0)),
                ('position', models.PositiveIntegerField(blank=True, null=True)),
                ('qualified', models.BooleanField(default=False)),
                ('group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='standings', to='tour.group')),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='group_standings', to='tour.player')),
            ],
            options={
                'db_table': 'group_standings',
                'ordering': ['-points', '-score_difference'],
                'unique_together': {('group', 'player')},
            },
        ),
        migrations.CreateModel(
            name='GroupMembership',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='memberships', to='tour.group')),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='group_memberships', to='tour.player')),
            ],
            options={
                'db_table': 'group_memberships',
                'unique_together': {('group', 'player')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='group',
            unique_together={('tournament', 'group_number')},
        ),
        migrations.CreateModel(
            name='BracketPosition',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('created_by', models.CharField(blank=True, max_length=100, null=True)),
                ('modified_at', models.DateTimeField(auto_now=True, null=True)),
                ('modified_by', models.CharField(blank=True, max_length=100, null=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('deleted_by', models.CharField(blank=True, max_length=100, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('bracket_type', models.CharField(choices=[('group', 'group'), ('winners', 'winners'), ('losers', 'losers'), ('final', 'final')], default='winners', max_length=50)),
                ('position', models.PositiveIntegerField()),
                ('round_eliminated', models.PositiveIntegerField(blank=True, null=True)),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='bracket_positions', to='tour.player')),
                ('tournament', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='bracket_positions', to='tour.tournament')),
            ],
            options={
                'db_table': 'bracket_positions',
                'unique_together': {('tournament', 'player', 'bracket_type')},
            },
        ),
    ]
